{"version":3,"sources":["webpack://grapesjs-rulers/webpack/universalModuleDefinition","webpack://grapesjs-rulers/webpack/bootstrap","webpack://grapesjs-rulers/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://grapesjs-rulers/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://grapesjs-rulers/./node_modules/@babel/runtime/helpers/createClass.js","webpack://grapesjs-rulers/./src/ruler.js","webpack://grapesjs-rulers/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","instance","Constructor","TypeError","_defineProperties","target","props","length","descriptor","protoProps","staticProps","Ruler","options","this","api","builder","utils","canvasPointerEvents","canvas","style","pointerEvents","constructRulers","VERTICAL","HORIZONTAL","CUR_DELTA_X","CUR_DELTA_Y","SCROLL_X","SCROLL_Y","CUR_SCALE","rulerz","guides","theRulerDOM","document","createElement","corners","defaultOptions","rulerHeight","fontFamily","fontSize","strokeStyle","sides","cornerSides","lineWidth","enableMouseTracking","enableToolTip","positionRuler","curRuler","alignment","left","pixelize","width","height","orgPos","parseInt","top","angle","rotation","origin","Math","abs","webkitTransform","MozTransform","OTransform","msTransform","transform","webkitTransformOrigin","MozTransformOrigin","OTransformOrigin","msTransformOrigin","transformOrigin","rotateRuler","constructGuide","dimension","x","y","e","isSet","guideIndex","guide","guideStyle","curDelta","title","dataset","id","addClasss","appendChild","container","getBoundingClientRect","round","push","line","guideLine","querySelector","coor","assigned","some","index","destroy","splice","constructRuler","curRul","mousedown","rulerStyle","element","rulerConstructor","drawRuler","offsetWidth","clientX","clientY","addEventListener","clearListeners","removeEventListener","constructCorner","stopPropagation","clearGuides","forEach","side","corner","cornerStyle","toUpperCase","cornerIcon","lineHeight","cornerDraw","parentNode","removeChild","mouseup","stopDrag","forEachRuler","cb","rul","getPos","setPos","values","orgY","orgX","deltaX","deltaY","curPosDelta","setScroll","setScale","newScale","curPos","orgDelta","curScaleFac","context","clearRect","beginPath","stroke","parseFloat","curScale","removeGuide","last","pop","getGuides","map","posX","posY","setGuides","_guides","curOptions","extend","toggleRulerVisibility","val","state","display","trackers","querySelectorAll","toggleGuideVisibility","func","ruler","_canvas","rulDimension","getContext","rulThickness","rulLength","rulScale","tracker","getScale","drawPoints","pointLength","label","delta","draw","lineLengthMax","lineLengthMed","lineLengthMin","pos","moveTo","lineTo","fillText","mousemove","tagName","zoom","initTracker","getLength","getThickness","_rulerLength","_rulerThickness","_rulerScale","fillStyle","font","_dragContainer","lineDimension","movecb","event","scale","self","_curScale","_assigned","_curPosDelta","dragContainer","moveCB","draggable","cv","move","xpos","ypos","updateToolTip","startMoving","evt","divTop","divLeft","eWi","eHe","offsetHeight","cWi","cHe","cursor","diffX","diffY","onmousemove","aX","aY","showToolTip","stopMoving","hideToolTip","removeClasss","tip","dblclick","setAsDraggable","startDrag","hide","show","arguments","prependChild","insertBefore","firstChild","classNames","Array","className","curCalsss","replace","editor","rulers","opts","dragMode","canvasZoom","rulerOpts","cm","Commands","rulH","defaultDragMode","getConfig","add","run","Canvas","getCanvasView","el","getFrameEl","on","setOffset","Rulers","setZoom","setDragMode","stop","getOffset","scrollX","getBody","scrollLeft","scrollY","scrollTop","sender"],"mappings":";CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAQ,mBAAqBD,IAE7BD,EAAK,mBAAqBC,IAR5B,CASGK,QAAQ,WACX,O,YCTE,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUP,QAGnC,IAAIC,EAASI,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHT,QAAS,IAUV,OANAU,EAAQH,GAAUI,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASM,GAG/DL,EAAOQ,GAAI,EAGJR,EAAOD,QA0Df,OArDAM,EAAoBM,EAAIF,EAGxBJ,EAAoBO,EAAIR,EAGxBC,EAAoBQ,EAAI,SAASd,EAASe,EAAMC,GAC3CV,EAAoBW,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEV,EAAoBgB,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDnB,EAAoBoB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQnB,EAAoBmB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAxB,EAAoBgB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOnB,EAAoBQ,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRvB,EAAoB2B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAK,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG7B,EAAoBgC,EAAI,GAIjBhC,EAAoBA,EAAoBiC,EAAI,G,gBCnErDtC,EAAOD,QAfP,SAAyBwC,EAAKT,EAAKN,GAYjC,OAXIM,KAAOS,EACTtB,OAAOC,eAAeqB,EAAKT,EAAK,CAC9BN,MAAOA,EACPL,YAAY,EACZqB,cAAc,EACdC,UAAU,IAGZF,EAAIT,GAAON,EAGNe,I,cCNTvC,EAAOD,QANP,SAAyB2C,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,uC,cCFxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIxC,EAAI,EAAGA,EAAIwC,EAAMC,OAAQzC,IAAK,CACrC,IAAI0C,EAAaF,EAAMxC,GACvB0C,EAAW9B,WAAa8B,EAAW9B,aAAc,EACjD8B,EAAWT,cAAe,EACtB,UAAWS,IAAYA,EAAWR,UAAW,GACjDxB,OAAOC,eAAe4B,EAAQG,EAAWnB,IAAKmB,IAUlDjD,EAAOD,QANP,SAAsB4C,EAAaO,EAAYC,GAG7C,OAFID,GAAYL,EAAkBF,EAAYR,UAAWe,GACrDC,GAAaN,EAAkBF,EAAaQ,GACzCR,I,wFCTYS,E,WACjB,aAA0B,IAAdC,EAAc,uDAAJ,GAAI,YACtBC,KAAKC,IAAMD,KAAKE,UAChBF,KAAKG,MAAQA,EACbH,KAAKI,oBAAsBL,EAAQM,OAAOC,MAAMC,cAChDP,KAAKD,QAAUA,EACfC,KAAKC,IAAIO,gBAAgBT,G,8CAGnB,IASFA,EATE,OACFU,EAAW,EACXC,EAAa,EACbC,EAAc,EACdC,EAAc,EACdC,EAAW,EACXC,EAAW,EACXC,EAAY,EAGZC,EAAS,GACTC,EAAS,GACTC,EAAcC,SAASC,cAAc,OACrCC,EAAU,GACVC,EAAiB,CACbC,YAAa,GACbC,WAAY,QACZC,SAAU,MACVC,YAAa,OACbC,MAAO,CAAC,MAAO,QACfC,YAAa,CAAC,MACdC,UAAW,EACXC,qBAAqB,EACrBC,eAAe,GAkBjBC,EAAgB,SAACC,EAAUC,GAE7B,OADAD,EAAS5B,OAAOC,MAAM6B,KAAO,EAAKhC,MAAMiC,WAAYH,EAAS5B,OAAOgC,MAAQ,EAAKJ,EAAS5B,OAAOiC,SACzFJ,GACJ,IAAK,MACDD,EAASM,OAASC,SAASP,EAAS5B,OAAOC,MAAM6B,MACjD,MACJ,IAAK,OACDF,EAAS5B,OAAOC,MAAMmC,IAAM,EAAKtC,MAAMiC,UAAUH,EAAS5B,OAAOiC,OAAS,GAC1EL,EAASM,OAASC,SAASP,EAAS5B,OAAOC,MAAMmC,KAvBzC,SAACR,EAAUS,GAC3B,IAAMC,EAAW,UAAYD,EAAQ,OAC/BE,EAAS,EAAKzC,MAAMiC,SAASS,KAAKC,IAAIN,SAASP,EAAS5B,OAAOC,MAAM6B,QAAU,QACrFF,EAAS5B,OAAOC,MAAMyC,gBAAkBJ,EACxCV,EAAS5B,OAAOC,MAAM0C,aAAeL,EACrCV,EAAS5B,OAAOC,MAAM2C,WAAaN,EACnCV,EAAS5B,OAAOC,MAAM4C,YAAcP,EACpCV,EAAS5B,OAAOC,MAAM6C,UAAYR,EAClCV,EAAS5B,OAAOC,MAAM8C,sBAAwBR,EAC9CX,EAAS5B,OAAOC,MAAM+C,mBAAqBT,EAC3CX,EAAS5B,OAAOC,MAAMgD,iBAAmBV,EACzCX,EAAS5B,OAAOC,MAAMiD,kBAAoBX,EAC1CX,EAAS5B,OAAOC,MAAMkD,gBAAkBZ,EAYhCa,CAAYxB,EAAU,MAgB5ByB,EAAiB,SAACC,EAAWC,EAAGC,EAAGC,EAAGC,GACxC,IAAIC,EAsBAC,EAAQ9C,SAASC,cAAc,OAC/B8C,EAAaP,IAAclD,EAAW,cAAgB,cACtD0D,EAAWR,IAAclD,EAAWE,EAAcC,EACtDqD,EAAMG,MAAQ,yBACdH,EAAMI,QAAQC,GAAKrD,EAAOvB,OAC1B,EAAKS,MAAMoE,UAAUN,EAAO,CAAC,WAAYC,IACzCD,EAAQ/C,EAAYsD,YAAYP,GAC5BN,IAAclD,GACdwD,EAAM3D,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASwB,EAAI7D,EAAQ0E,UAAUC,wBAAwBvC,MACjF4B,IAAOE,EAAM3D,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASS,KAAK8B,MAAMf,EAAI7C,EAAYhB,EAAQwB,YAAcV,OAEnGoD,EAAM3D,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASyB,EAAI9D,EAAQ0E,UAAUC,wBAAwBjC,KAChFsB,IAAOE,EAAM3D,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASS,KAAK8B,MAAMd,EAAI9C,EAAYhB,EAAQwB,YAAcT,MAEtGG,EAAO2D,KAAK,CACRjB,UAAWA,EACXkB,KAAM,EAAKC,UAAUb,EAAOlE,EAAQ0E,UAAUM,cAAc,gBAAiBpB,EAAW5D,EAASoE,GArCtF,SAAUU,EAAMjB,EAAGC,GAC9B,IAAMmB,EAAOH,EAAKlB,YAAclD,EAAWmD,EAAIC,EAC1CgB,EAAKI,WAOND,EAAOjF,EAAQwB,cACfN,EAAOiE,MAAK,SAAUJ,EAAWK,GAC7B,GAAIL,EAAUD,OAASA,EAEnB,OADAb,EAAamB,GACN,KAGfN,EAAKO,UACLnE,EAAOoE,OAAOrB,EAAY,IAdtBgB,EAAOjF,EAAQwB,aACfsD,EAAKI,UAAS,KAiC6FnB,EAAG/C,MAKxHuE,EAAiB,SAACb,EAAWvC,GAC/B,IAAI7B,EAxD4BkF,EAC1BC,EAwDF7B,EAA0B,SAAdzB,GAAsC,UAAdA,EAAwBzB,EAAWC,EACvE+E,EAAa9B,IAAclD,EAAW,qBAAuB,uBAC7DiF,EAAUvE,SAASC,cAAc,UAErC,EAAKjB,MAAMoE,UAAUmB,EAAS,CAAC,YAAaD,EAAY,aAAevD,IACvE7B,EAASoE,EAAUD,YAAYkB,GAC/B1E,EAAOkB,GAAa,EAAKyD,iBAAiBtF,EAAQN,EAAS4D,GAC3D3C,EAAOkB,GAAW0D,UAAUnB,EAAUoB,YAAa9F,EAAQwB,aAC3DS,EAAchB,EAAOkB,GAAYA,GAjEDqD,EAkELvE,EAAOkB,GAjE5BsD,EAAY,SAAU1B,GACxBJ,EAAe6B,EAAO5B,UAAWG,EAAEgC,QAAShC,EAAEiC,QAASjC,IAG3DyB,EAAOlF,OAAO2F,iBAAiB,YAAaR,GAC5CD,EAAOU,eAAiB,WACpBV,EAAOlF,OAAO6F,oBAAoB,YAAaV,KA8DjDW,EAAmB,WAarB,SAASX,EAAU1B,GACfA,EAAEsC,kBACFC,IAGJ,OAAO,SAAU5B,EAAW7C,GACxBA,EAAY0E,SAAQ,SAAUC,GAC1B,IAAMC,EAnBK,SAAC/B,EAAW8B,GAC3B,IAAMC,EAASrF,SAASC,cAAc,OAClCqF,EAAc,aAAeF,EAAKG,cAOtC,OALAF,EAAOpC,MAAQ,oBACf,EAAKjE,MAAMoE,UAAUiC,EAAQ,CAAC,aAAcC,EAAa1G,EAAQ4G,aACjEH,EAAOlG,MAAM+B,MAAQ,EAAKlC,MAAMiC,SAASrC,EAAQwB,YAAc,GAC/DiF,EAAOlG,MAAMgC,OAAS,EAAKnC,MAAMiC,SAASrC,EAAQwB,aAClDiF,EAAOlG,MAAMsG,WAAa,EAAKzG,MAAMiC,SAASrC,EAAQwB,aAC/CkD,EAAUD,YAAYgC,GAUVK,CAAWpC,EAAW8B,GACrCC,EAAOR,iBAAiB,YAAaR,GACrCgB,EAAOpB,QAAU,WACboB,EAAON,oBAAoB,YAAaV,GACxCgB,EAAOM,WAAWC,YAAYP,IAElCnF,EAAQuD,KAAK4B,OA1BA,GAgCnBQ,EAAU,SAAClD,GACb7C,EAAOqF,SAAQ,SAAUrC,GACrBA,EAAMY,KAAKoC,eAebC,EAAe,SAACC,GAClB,IAAIhC,EAAQ,EACZ,IAAK,IAAIiC,KAAOpG,EACRA,EAAOlC,eAAesI,IACtBD,EAAGnG,EAAOoG,GAAMjC,MA0EtBkB,EAAc,WAChBpF,EAAOqF,SAAQ,SAAUrC,GACrBA,EAAMY,KAAKO,aAEfnE,EAAS,IAyDb,MAAO,CACHR,WACAC,aACA2G,OArIW,WACX,MAAO,CACHzD,EAAGjD,EACHkD,EAAGjD,IAmIP0G,OA/HW,SAACC,GACZ,IACIC,EADAC,EAAO,EAEPC,EAAS,EACTC,EAAS,EACbT,GAAa,SAAC3B,GACNA,EAAO5B,YAAclD,GACrB+G,EAAOjC,EAAOlF,OAAOC,MAAMmC,IAC3B8C,EAAOlF,OAAOC,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASmD,EAAOhD,OAAUC,SAAS+E,EAAO1D,IAC/E8D,EAASnF,SAASgF,GAAQhF,SAAS+C,EAAOlF,OAAOC,MAAMmC,OAEvDgF,EAAOlC,EAAOlF,OAAOC,MAAM6B,KAC3BoD,EAAOlF,OAAOC,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASmD,EAAOhD,OAAUC,SAAS+E,EAAO3D,IAChF8D,EAASlF,SAASiF,GAAQjF,SAAS+C,EAAOlF,OAAOC,MAAM6B,UAG/DlB,EAAOqF,SAAQ,SAACrC,GACRA,EAAMN,YAAcjD,GACpBuD,EAAMY,KAAKC,UAAUxE,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASI,SAASyB,EAAMY,KAAKC,UAAUxE,MAAMmC,KAAOkF,GAChG1D,EAAMY,KAAK+C,YAAYpF,SAAS+E,EAAO1D,MAEvCI,EAAMY,KAAKC,UAAUxE,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASI,SAASyB,EAAMY,KAAKC,UAAUxE,MAAM6B,MAAQuF,GAClGzD,EAAMY,KAAK+C,YAAYpF,SAAS+E,EAAO3D,QAG/CjD,EAAc6B,SAAS+E,EAAO3D,GAC9BhD,EAAc4B,SAAS+E,EAAO1D,IAsG9BgE,UAnGc,SAACN,GACf1G,EAAW0G,EAAO3D,EAClB9C,EAAWyG,EAAO1D,GAkGlBiE,SA/Fa,SAACC,GACd,IAAIC,EAAQC,EAAUC,EACtBhB,GAAa,SAAUE,GACnBA,EAAIe,QAAQC,UAAU,EAAG,EAAGhB,EAAI/G,OAAOgC,MAAO+E,EAAI/G,OAAOiC,QACzD8E,EAAIe,QAAQE,YACZjB,EAAIU,SAASC,GACbX,EAAIe,QAAQG,SACZvH,EAAYgH,KAGhB9G,EAAOqF,SAAQ,SAACrC,GACRA,EAAMN,YAAcjD,GACpBsH,EAASxF,SAASyB,EAAMY,KAAKC,UAAUxE,MAAMmC,KAC7CwF,EAAWlI,EAAQwB,YAAc,EACjC2G,EAAeK,WAAWR,GAAY9D,EAAMY,KAAK2D,WACjDvE,EAAMY,KAAKC,UAAUxE,MAAMmC,IAAM,EAAKtC,MAAMiC,UAAW4F,EAASC,EAAWrH,GAAesH,EAAeD,EAAWrH,GACpHqD,EAAMY,KAAK2D,SAAST,KAEpBC,EAASxF,SAASyB,EAAMY,KAAKC,UAAUxE,MAAM6B,MAC7C8F,EAAWlI,EAAQwB,YAAc,EACjC2G,EAAeK,WAAWR,GAAY9D,EAAMY,KAAK2D,WACjDvE,EAAMY,KAAKC,UAAUxE,MAAM6B,KAAO,EAAKhC,MAAMiC,UAAW4F,EAASC,EAAWtH,GAAeuH,EAAeD,EAAWtH,GACrHsD,EAAMY,KAAK2D,SAAST,QA0E5B1B,cACAoC,YA9DgB,SAACnE,GACjB,IAAMoE,EAAOzH,EAAOvB,OAAS,EADL,EAEK,CAACuB,EAAOyH,GAAOzH,EAAOqD,IAAlDrD,EAAOqD,GAFgB,KAEXrD,EAAOyH,GAFI,KAGxBzH,EAAO0H,OA4DPC,UAxCc,WACd,OAAO3H,EAAO4H,KAAI,SAAU5E,GACxB,MAAO,CACH6E,KAAMjG,KAAK8B,OAAOnC,SAASyB,EAAMY,KAAKC,UAAUxE,MAAM6B,MAAQpC,EAAQwB,YAAcV,GAAYE,GAChGgI,KAAMlG,KAAK8B,OAAOnC,SAASyB,EAAMY,KAAKC,UAAUxE,MAAMmC,KAAO1C,EAAQwB,YAAcT,GAAYC,GAC/F4C,UAAWM,EAAMN,eAoCzBqF,UA/Bc,SAACC,GACVA,GAAYA,EAAQvJ,QAGzBuJ,EAAQ3C,SAAQ,SAAUrC,GACtBP,EAAeO,EAAMN,UAAWM,EAAM6E,KAAM7E,EAAM8E,KAAM,MAAM,OA2BlEvI,gBAjKoB,SAAC0I,GACrBhI,EAAc,EAAKf,MAAMoE,UAAUrD,EAAa,eAChDnB,EAAU,EAAKI,MAAMgJ,OAAO7H,EAAgB4H,GAC5ChI,EAAcnB,EAAQ0E,UAAUD,YAAYtD,GAC5CnB,EAAQ4B,MAAM2E,SAAQ,SAAUC,GAC5BjB,EAAepE,EAAaqF,MAEhCJ,EAAgBjF,EAAanB,EAAQ6B,aACrC7B,EAAQ0E,UAAUuB,iBAAiB,UAAWgB,IA0J9CoC,sBArD0B,SAACC,GAC3B,IAAMC,EAAQD,EAAM,QAAU,OAC9BnI,EAAYZ,MAAMiJ,QAAUD,EAC5B,IAAME,EAAWzJ,EAAQ0E,UAAUgF,iBAAiB,gBAChDD,EAAS9J,OAAS,IAClB8J,EAAS,GAAGlJ,MAAMiJ,QAAUD,EAC5BE,EAAS,GAAGlJ,MAAMiJ,QAAUD,IAgDhCI,sBA7D0B,SAACL,GAC3B,IAAMM,EAAON,EAAM,OAAS,OAC5BpI,EAAOqF,SAAQ,SAAUrC,GACrBA,EAAMY,KAAK8E,SA2DfvE,QA1BY,WACZiB,IACAa,GAAa,SAAU0C,GACnBA,EAAMxE,aAEV/D,EAAQiF,SAAQ,SAAUE,GACtBA,EAAOpB,aAEXrF,EAAQ0E,UAAUyB,oBAAoB,UAAWc,GACjD9F,EAAY4F,WAAWC,YAAY7F,O,uCAqB1B2I,EAAS9J,EAAS+J,GAAc,WAEzCzJ,EAASwJ,EACT1B,EAAU9H,EAAO0J,WAAW,MAC5BC,EAAe,EACfC,EAAY,EACZC,EAAW,EACXvG,EAAYmG,GAAgB,EAE5BK,EAAUhJ,SAASC,cAAc,OAU/BgJ,EAAW,WACb,OAAOF,GAsBLG,EAAa,WASf,IARA,IAAIC,EAAc,EACdC,EAAQ,GACRC,EAAQ,EACRC,GAAO,EACPC,EAAgB,EAChBC,EAAgBX,EAAe,EAC/BY,EAAgBZ,EAAe,EAE1Ba,EAAM,EAAGA,GAAOZ,EAAWY,GAAO,EAEvCJ,GAAO,EACPF,EAAQ,IAFRC,EAAUP,EAAY,EAAKY,GAIf,IAAO,GACfP,EAAcI,EACdH,EAAQ1H,KAAK8B,MAAM9B,KAAKC,IAAI0H,GAASN,GACrCO,GAAO,GACAD,EAAQ,IAAO,GACtBF,EAAcK,EACdF,GAAO,GACAD,EAAQ,GAAM,IACrBF,EAAcM,EACdH,GAAO,GAEPA,IACAtC,EAAQ2C,OAAOD,EAAM,GAAKb,EAAe,IACzC7B,EAAQ4C,OAAOF,EAAM,GAAKP,EAAc,IACxCnC,EAAQ6C,SAAST,EAAOM,EAAM,IAAMb,EAAe,EAAK,KAK9DiB,EAAY,SAACnH,GACf,IAAIF,EAAIE,EAAEgC,QAASjC,EAAIC,EAAEiC,QAEzB,GAAyB,WAArBjC,EAAEtE,OAAO0L,QAAsB,CAC/B,IAAMC,EAAO,KAAH,IAAGf,KAAe,GAC5BxG,EAAIA,EAAIuH,EAAOrH,EAAEtE,OAAOkF,wBAAwBvC,KAChD0B,EAAIA,EAAIsH,EAAOrH,EAAEtE,OAAOkF,wBAAwBjC,IAGlC,IAAdkB,EACAwG,EAAQ7J,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASwB,EAAI7D,EAAQ0E,UAAUC,wBAAwBvC,MAEvFgI,EAAQ7J,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASyB,EAAI9D,EAAQ0E,UAAUC,wBAAwBjC,MA0B9F,OAJI1C,EAAQ+B,qBAZQ,WAChBqI,EAAUpK,EAAQ0E,UAAUD,YAAY2F,GACxC,EAAKhK,MAAMoE,UAAU4F,EAAS,eAC9B,IAAM7H,EAAS,EAAKnC,MAAMiC,SAASrC,EAAQwB,aACzB,IAAdoC,EACAwG,EAAQ7J,MAAMgC,OAASA,EAEvB6H,EAAQ7J,MAAM+B,MAAQC,EAE1BvC,EAAQ0E,UAAUuB,iBAAiB,YAAaiF,GAIhDG,GAGG,CACHC,UAvGc,WACd,OAAOpB,GAuGPqB,aApGiB,WACjB,OAAOtB,GAoGPI,WACAtC,SA9Fa,SAACC,GAGd,OAFAmC,EAAW3B,WAAWR,GACtBsC,IACOH,GA4FPvG,YACApB,OA/GS,EAgHTlC,SACA8H,UACAvC,UA7Fc,SAAC2F,EAAcC,EAAiBC,GAC9CxB,EAAY5J,EAAOgC,MAAuB,EAAfkJ,EAC3BvB,EAAe3J,EAAOiC,OAASkJ,EAC/BtB,EAAWuB,GAAevB,EAC1B/B,EAAQzG,YAAc3B,EAAQ2B,YAC9ByG,EAAQuD,UAAY3L,EAAQ2L,UAC5BvD,EAAQwD,KAAO5L,EAAQ0B,SAAW,IAAM1B,EAAQyB,WAChD2G,EAAQtG,UAAY9B,EAAQ8B,UAC5BsG,EAAQE,YACRgC,IACAlC,EAAQG,UAoFR+B,aACAjF,QAjCY,WACZrF,EAAQ0E,UAAUyB,oBAAoB,YAAa+E,GACnDd,EAAQrD,WAAWC,YAAYoD,GAC/B,EAAKlE,gBAAkB,EAAKA,qB,gCAqC1BpB,EAAM+G,EAAgBC,EAAe9L,EAASoE,EAAU2H,EAAQC,EAAOC,GAAO,IAEhFC,EAFgF,OAGhFnH,EAAYD,EACZqH,EAAYF,GAAS,EACrBG,GAAY,EACZC,EAAejI,GAAY,EAC3BkI,EAAgBT,EAChBjI,EAAYkI,GAAiB,EAC7BS,EAASR,GAAU,aAuBjBS,EACK,CACHC,GAAI,WACA,OAAO,EAAKzM,QAAQM,QAExBoM,KAAM,SAACC,EAAMC,GACT7H,EAAUxE,MAAM6B,KAAO,EAAKhC,MAAMiC,SAASsK,GAC3C5H,EAAUxE,MAAMmC,IAAM,EAAKtC,MAAMiC,SAASuK,GAC1CC,EAAcF,EAAMC,GACpBL,EAAOL,EAAMS,EAAMC,IAEvBE,YAAa,SAACC,GACVP,EAAUC,KAAKlM,MAAMC,cAAgB,OACrC,EAAKJ,MAAMoE,UAAUO,EAAW,CAAC,qBAEjC,IAAIgE,GADJgE,EAAMA,GAAOjQ,OAAOkP,OACHe,EAAIhH,QAAU,EAC3BiD,EAAO+D,EAAMA,EAAI/G,QAAU,EAC3BgH,EAASvK,SAASsC,EAAUxE,MAAMmC,KAAO,GACzCuK,EAAUxK,SAASsC,EAAUxE,MAAM6B,MAAQ,GAC3C8K,EAAMzK,SAASsC,EAAUe,aACzBqH,EAAM1K,SAASsC,EAAUqI,cACzBC,EAAM5K,SAAS6J,EAAcxG,aAC7BwH,EAAM7K,SAAS6J,EAAcc,cAC7BG,EAAuB,IAAd3J,EAAkB,YAAc,YAE7C5D,EAAQ0E,UAAUnE,MAAMgN,OAASA,EACjCxI,EAAUxE,MAAMgN,OAASA,EACzB,IAAIC,EAAQzE,EAAOkE,EACfQ,EAAQzE,EAAOgE,EACnB5L,SAASsM,YAAc,SAAgBX,GAEnC,IAAIhE,GADJgE,EAAMA,GAAOjQ,OAAOkP,OACLjG,QACXiD,EAAO+D,EAAI/G,QACX2H,EAAK5E,EAAOyE,EACZI,EAAK5E,EAAOyE,EAEZE,EAAK,IACLA,EAAK,GAELC,EAAK,IACLA,EAAK,GAGLD,EAAKT,EAAMG,IACXM,EAAKN,EAAMH,GAEXU,EAAKT,EAAMG,IACXM,EAAKN,EAAMH,GAGfX,EAAUE,KAAKiB,EAAIC,IAEvBC,KAEJC,WAAY,WACRtB,EAAUC,KAAKlM,MAAMC,cAAgB,EAAKH,oBAC1CL,EAAQ0E,UAAUnE,MAAMgN,OAAS,KACjCxI,EAAUxE,MAAMgN,OAAS,KACzBnM,SAASsM,YAAc,aACvBK,IACA,EAAK3N,MAAM4N,aAAajJ,EAAW,CAAC,uBAK1C8I,EAAc,SAAC9J,GACZ/D,EAAQgC,eAGb,EAAK5B,MAAMoE,UAAUO,EAAW,gBAG9B8H,EAAgB,SAAChJ,EAAGC,GAElBiB,EAAUT,QAAQ2J,IADlBnK,EACwBhB,KAAK8B,OAAOd,EAAI9D,EAAQwB,YAAc,EAAI6K,GAAgBF,GAAa,KAEvErJ,KAAK8B,OAAOf,EAAI7D,EAAQwB,YAAc,EAAI6K,GAAgBF,GAAa,MAIjG4B,EAAc,SAAChK,GACjB,EAAK3D,MAAM4N,aAAajJ,EAAW,gBAGjCM,EAAU,WACZmH,EAAUsB,aACVvB,EAAS,KACTxH,EAAUoB,oBAAoB,YAAaV,GAC3CV,EAAUoB,oBAAoB,UAAWc,GACzClC,EAAUoB,oBAAoB,WAAY+H,GAC1CnJ,EAAUgC,YAAchC,EAAUgC,WAAWC,YAAYjC,IAWvDU,EAAY,SAAC1B,GACfA,EAAEsC,kBACFmG,EAAUM,eAGR7F,EAAU,SAAClD,GACbyI,EAAUsB,cAGRI,EAAW,SAACnK,GACdA,EAAEsC,kBACFhB,IACA,EAAKnF,IAAIwI,YAAY3D,EAAUT,QAAQC,KAuB3C,OApBAQ,EAAUkB,iBAAiB,YAAaR,GAExCV,EAAUkB,iBAAiB,UAAWgB,GAEtClC,EAAUkB,iBAAiB,WAAYiI,GACnClC,GAAOQ,EAAUM,YAAYd,GAEjCE,EAAO,CACHiC,eAAgB3B,EAChB4B,UAAW5B,EAAUM,YACrB5F,SAAUsF,EAAUsB,WACpBzI,QAASA,EACToD,SAvIa,SAACa,GACd,YAAmB,IAARA,EACA6C,EAEHA,EAAY7C,GAoIpBpE,SA/Ia,SAACoE,GACd,YAAmB,IAARA,EACA8C,EAEHA,EAAY9C,GA4IpBzB,YAvJgB,SAACyB,GACjB,YAAmB,IAARA,EACA+C,EAEHA,EAAe/C,GAoJvBvE,UAAWA,EACXnB,UAAWA,EACXyK,KAxCS,WACTtJ,EAAUxE,MAAMiJ,QAAU,QAwC1B8E,KArCS,WACTvJ,EAAUxE,MAAMiJ,QAAU,c,KA0CzBpJ,EAAQ,CACjBgJ,OADiB,WAEb,IAAK,IAAIlM,EAAI,EAAGA,EAAIqR,UAAU5O,OAAQzC,IAClC,IAAK,IAAIuB,KAAO8P,UAAUrR,GAClBqR,UAAUrR,GAAG6B,eAAeN,KAC5B8P,UAAU,GAAG9P,GAAO8P,UAAUrR,GAAGuB,IAC7C,OAAO8P,UAAU,IAErBlM,SARiB,SAQRiH,GACL,OAAOA,EAAM,MAEjBkF,aAXiB,SAWJ9J,EAAWiB,GACpB,OAAOjB,EAAU+J,aAAa9I,EAASjB,EAAUgK,aAErDlK,UAdiB,SAcPmB,EAASgJ,GASf,OARMA,aAAsBC,QACxBD,EAAa,CAACA,IAGlBA,EAAWpI,SAAQ,SAAU9I,GACzBkI,EAAQkJ,WAAa,IAAMpR,KAGxBkI,GAEXqI,aAzBiB,SAyBJrI,EAASgJ,GAClB,IAAIG,EAAYnJ,EAAQkJ,UASxB,OARMF,aAAsBC,QACxBD,EAAa,CAACA,IAGlBA,EAAWpI,SAAQ,SAAU9I,GACzBqR,EAAYA,EAAUC,QAAQtR,EAAM,OAExCkI,EAAQkJ,UAAYC,EACbnJ,I,ikBCvqBA,sBAACqJ,GAAsB,IAiB9BC,EAjBgBC,EAAc,uDAAP,GACrBlP,EAAU,EAAH,KACN,CAECmP,SAAU,YACV3N,YAAa,GACb4N,WAAY,GACZC,UAAW,KAEZH,GAGDI,EAAKN,EAAOO,SACZC,EAAOxP,EAAQwB,YACfiO,EAAkBT,EAAOU,UAAU,YACrCtE,EAAOpL,EAAQoP,WACfnD,EAAQ,IAAMb,EAGlBkE,EAAGK,IAAI,mBAAoB,CACvBC,IADuB,SACnBZ,IACCC,IAAWA,EAAS,IAAIlP,EAAJ,GACjB2E,UAAWsK,EAAOa,OAAOC,gBAAgBC,GACzCzP,OAAQ0O,EAAOa,OAAOG,aACtBxO,YAAagO,EACb7N,YAAa,QACbgK,UAAW,QACX/E,WAAY,eACT5G,EAAQqP,cACRL,EAAOiB,GAAG,iDAAiD,WAC9DC,OAEJlB,EAAOmB,OAASlB,EAChBA,EAAO/O,IAAImJ,uBAAsB,GACjC2F,EAAOa,OAAOO,QAAQhF,GACtB4D,EAAOqB,YAAYrQ,EAAQmP,UAC3Be,IACAjB,EAAO/O,IAAI6H,SAASkE,IAExBqE,KApBuB,SAoBlBtB,GACDC,GAAUA,EAAO/O,IAAImJ,uBAAsB,GAC3C2F,EAAOa,OAAOO,QAAQ,KACtBpB,EAAOqB,YAAYZ,MAI3B,IAAMS,EAAY,WAAM,MACElB,EAAOa,OAAOU,YAA5B7N,EADY,EACZA,IAAKN,EADO,EACPA,KACPoO,EAAUxB,EAAOa,OAAOY,UAAUC,WAClCC,EAAU3B,EAAOa,OAAOY,UAAUG,UACxC3B,EAAO/O,IAAIqH,OAAO,CACd1D,EAAGzB,EAAOoN,EAAOgB,EAAUvE,EAC3BnI,EAAGpB,EAAM8M,EAAOmB,EAAU1E,IAE9BgD,EAAO/O,IAAI4H,UAAU,CACjBjE,EAAG2M,EACH1M,EAAG6M,KAIXrB,EAAGK,IAAI,oBAAqB,CACxBC,IADwB,WAEpBX,GAAUA,EAAO/O,IAAIyJ,uBAAsB,IAE/C2G,KAJwB,WAKpBrB,GAAUA,EAAO/O,IAAIyJ,uBAAsB,MAInD2F,EAAGK,IAAI,cAAc,WACjB,OAAOV,KAGXK,EAAGK,IAAI,0BAA0B,WAC7B,OAAO5P,KAGXuP,EAAGK,IAAI,gBAAgB,WACnBV,GAAUA,EAAO/O,IAAIoG,iBAGzBgJ,EAAGK,IAAI,cAAc,WACjB,OAAIV,EAAeA,EAAO/O,IAAI2I,YAClB,KAGhByG,EAAGK,IAAI,cAAc,SAACX,EAAQ6B,GAAyB,IAAjB7Q,EAAiB,uDAAP,GAC5CiP,GAAUjP,EAAQkB,QAAU+N,EAAO/O,IAAI+I,UAAUjJ,EAAQkB,WAG7DoO,EAAGK,IAAI,YAAY,SAACX,EAAQ6B,GAAyB,IAAjB7Q,EAAiB,uDAAP,GAC1CoL,EAAOpL,EAAQoL,KACfa,EAAQ,IAAMb,EACd4D,EAAOa,OAAOO,QAAQhF,GACtB8E,IACAjB,GAAUA,EAAO/O,IAAI6H,SAASkE,MAGlCqD,EAAGK,IAAI,iBAAiB,WACpBV,GAAUA,EAAO/O,IAAImF","file":"grapesjs-rulers.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-rulers\"] = factory();\n\telse\n\t\troot[\"grapesjs-rulers\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","/**\r\n * Adapted from https://github.com/MrFrankel/ruler\r\n */\r\n\r\nexport default class Ruler {\r\n    constructor(options = {}) {\r\n        this.api = this.builder();\r\n        this.utils = utils;\r\n        this.canvasPointerEvents = options.canvas.style.pointerEvents;\r\n        this.options = options;\r\n        this.api.constructRulers(options);\r\n    }\r\n\r\n    builder() {\r\n        let VERTICAL = 1,\r\n            HORIZONTAL = 2,\r\n            CUR_DELTA_X = 0,\r\n            CUR_DELTA_Y = 0,\r\n            SCROLL_X = 0,\r\n            SCROLL_Y = 0,\r\n            CUR_SCALE = 1;\r\n\r\n        let options,\r\n            rulerz = {},\r\n            guides = [],\r\n            theRulerDOM = document.createElement('div'),\r\n            corners = [],\r\n            defaultOptions = {\r\n                rulerHeight: 15,\r\n                fontFamily: 'arial',\r\n                fontSize: '8px',\r\n                strokeStyle: 'gray',\r\n                sides: ['top', 'left'],\r\n                cornerSides: ['TL'],\r\n                lineWidth: 1,\r\n                enableMouseTracking: true,\r\n                enableToolTip: true\r\n            };\r\n\r\n        const rotateRuler = (curRuler, angle) => {\r\n            const rotation = 'rotate(' + angle + 'deg)';\r\n            const origin = this.utils.pixelize(Math.abs(parseInt(curRuler.canvas.style.left))) + ' 100%';\r\n            curRuler.canvas.style.webkitTransform = rotation;\r\n            curRuler.canvas.style.MozTransform = rotation;\r\n            curRuler.canvas.style.OTransform = rotation;\r\n            curRuler.canvas.style.msTransform = rotation;\r\n            curRuler.canvas.style.transform = rotation;\r\n            curRuler.canvas.style.webkitTransformOrigin = origin;\r\n            curRuler.canvas.style.MozTransformOrigin = origin;\r\n            curRuler.canvas.style.OTransformOrigin = origin;\r\n            curRuler.canvas.style.msTransformOrigin = origin;\r\n            curRuler.canvas.style.transformOrigin = origin;\r\n        };\r\n\r\n        const positionRuler = (curRuler, alignment) => {\r\n            curRuler.canvas.style.left = this.utils.pixelize(-((curRuler.canvas.width / 2) - curRuler.canvas.height));\r\n            switch (alignment) {\r\n                case 'top':\r\n                    curRuler.orgPos = parseInt(curRuler.canvas.style.left);\r\n                    break;\r\n                case 'left':\r\n                    curRuler.canvas.style.top = this.utils.pixelize(-curRuler.canvas.height - 1);\r\n                    curRuler.orgPos = parseInt(curRuler.canvas.style.top);\r\n                    rotateRuler(curRuler, 90);\r\n                    break;\r\n            }\r\n        };\r\n\r\n        const attachListeners = (container, curRul) => {\r\n            const mousedown = function (e) {\r\n                constructGuide(curRul.dimension, e.clientX, e.clientY, e);\r\n            };\r\n\r\n            curRul.canvas.addEventListener('mousedown', mousedown);\r\n            curRul.clearListeners = function () {\r\n                curRul.canvas.removeEventListener('mousedown', mousedown);\r\n            }\r\n        };\r\n\r\n        const constructGuide = (dimension, x, y, e, isSet) => {\r\n            let guideIndex;\r\n            const moveCB = function (line, x, y) {\r\n                const coor = line.dimension === VERTICAL ? x : y;\r\n                if (!line.assigned()) {\r\n                    if (coor > options.rulerHeight) {\r\n                        line.assigned(true);\r\n                    }\r\n                    return;\r\n                }\r\n\r\n                if (coor < options.rulerHeight) {\r\n                    guides.some(function (guideLine, index) {\r\n                        if (guideLine.line === line) {\r\n                            guideIndex = index;\r\n                            return true;\r\n                        }\r\n                    });\r\n                    line.destroy();\r\n                    guides.splice(guideIndex, 1);\r\n                }\r\n            };\r\n\r\n            let guide = document.createElement('div'),\r\n                guideStyle = dimension === VERTICAL ? 'rul_lineVer' : 'rul_lineHor',\r\n                curDelta = dimension === VERTICAL ? CUR_DELTA_X : CUR_DELTA_Y;\r\n            guide.title = 'Double click to delete';\r\n            guide.dataset.id = guides.length;\r\n            this.utils.addClasss(guide, ['rul_line', guideStyle]);\r\n            guide = theRulerDOM.appendChild(guide);\r\n            if (dimension === VERTICAL) {\r\n                guide.style.left = this.utils.pixelize(x - options.container.getBoundingClientRect().left);\r\n                if (isSet) guide.style.left = this.utils.pixelize(Math.round(x / CUR_SCALE + options.rulerHeight - SCROLL_X));\r\n            } else {\r\n                guide.style.top = this.utils.pixelize(y - options.container.getBoundingClientRect().top);\r\n                if (isSet) guide.style.top = this.utils.pixelize(Math.round(y / CUR_SCALE + options.rulerHeight - SCROLL_Y));\r\n            }\r\n            guides.push({\r\n                dimension: dimension,\r\n                line: this.guideLine(guide, options.container.querySelector('.rul_wrapper'), dimension, options, curDelta, moveCB, e, CUR_SCALE)\r\n            });\r\n        };\r\n\r\n\r\n        const constructRuler = (container, alignment) => {\r\n            let canvas,\r\n                dimension = alignment === 'left' || alignment === 'right' ? VERTICAL : HORIZONTAL,\r\n                rulerStyle = dimension === VERTICAL ? 'rul_ruler_Vertical' : 'rul_ruler_Horizontal',\r\n                element = document.createElement('canvas');\r\n\r\n            this.utils.addClasss(element, ['rul_ruler', rulerStyle, 'rul_align_' + alignment]);\r\n            canvas = container.appendChild(element);\r\n            rulerz[alignment] = this.rulerConstructor(canvas, options, dimension);\r\n            rulerz[alignment].drawRuler(container.offsetWidth, options.rulerHeight);\r\n            positionRuler(rulerz[alignment], alignment);\r\n            attachListeners(container, rulerz[alignment]);\r\n        };\r\n\r\n        const constructCorner = (() => {\r\n            const cornerDraw = (container, side) => {\r\n                const corner = document.createElement('div'),\r\n                    cornerStyle = 'rul_corner' + side.toUpperCase();\r\n\r\n                corner.title = 'Clear Guide lines';\r\n                this.utils.addClasss(corner, ['rul_corner', cornerStyle, options.cornerIcon]);\r\n                corner.style.width = this.utils.pixelize(options.rulerHeight + 1);\r\n                corner.style.height = this.utils.pixelize(options.rulerHeight);\r\n                corner.style.lineHeight = this.utils.pixelize(options.rulerHeight);\r\n                return container.appendChild(corner);\r\n            }\r\n\r\n            function mousedown(e) {\r\n                e.stopPropagation();\r\n                clearGuides();\r\n            }\r\n\r\n            return function (container, cornerSides) {\r\n                cornerSides.forEach(function (side) {\r\n                    const corner = cornerDraw(container, side);\r\n                    corner.addEventListener('mousedown', mousedown);\r\n                    corner.destroy = function () {\r\n                        corner.removeEventListener('mousedown', mousedown);\r\n                        corner.parentNode.removeChild(corner);\r\n                    };\r\n                    corners.push(corner);\r\n                })\r\n            }\r\n\r\n        })();\r\n\r\n        const mouseup = (e) => {\r\n            guides.forEach(function (guide) {\r\n                guide.line.stopDrag();\r\n            })\r\n        };\r\n\r\n        const constructRulers = (curOptions) => {\r\n            theRulerDOM = this.utils.addClasss(theRulerDOM, 'rul_wrapper');\r\n            options = this.utils.extend(defaultOptions, curOptions);\r\n            theRulerDOM = options.container.appendChild(theRulerDOM);\r\n            options.sides.forEach(function (side) {\r\n                constructRuler(theRulerDOM, side);\r\n            });\r\n            constructCorner(theRulerDOM, options.cornerSides);\r\n            options.container.addEventListener('mouseup', mouseup);\r\n        };\r\n\r\n        const forEachRuler = (cb) => {\r\n            let index = 0;\r\n            for (let rul in rulerz) {\r\n                if (rulerz.hasOwnProperty(rul)) {\r\n                    cb(rulerz[rul], index++);\r\n                }\r\n            }\r\n        };\r\n\r\n        const getPos = () => {\r\n            return {\r\n                x: CUR_DELTA_X,\r\n                y: CUR_DELTA_Y\r\n            };\r\n        }\r\n\r\n        const setPos = (values) => {\r\n            let orgX = 0,\r\n                orgY,\r\n                deltaX = 0,\r\n                deltaY = 0;\r\n            forEachRuler((curRul) => {\r\n                if (curRul.dimension === VERTICAL) {\r\n                    orgY = curRul.canvas.style.top;\r\n                    curRul.canvas.style.top = this.utils.pixelize(curRul.orgPos + (parseInt(values.y)));\r\n                    deltaY = parseInt(orgY) - parseInt(curRul.canvas.style.top);\r\n                } else {\r\n                    orgX = curRul.canvas.style.left;\r\n                    curRul.canvas.style.left = this.utils.pixelize(curRul.orgPos + (parseInt(values.x)));\r\n                    deltaX = parseInt(orgX) - parseInt(curRul.canvas.style.left);\r\n                }\r\n            });\r\n            guides.forEach((guide) => {\r\n                if (guide.dimension === HORIZONTAL) {\r\n                    guide.line.guideLine.style.top = this.utils.pixelize(parseInt(guide.line.guideLine.style.top) - deltaY);\r\n                    guide.line.curPosDelta(parseInt(values.y));\r\n                } else {\r\n                    guide.line.guideLine.style.left = this.utils.pixelize(parseInt(guide.line.guideLine.style.left) - deltaX);\r\n                    guide.line.curPosDelta(parseInt(values.x));\r\n                }\r\n            });\r\n            CUR_DELTA_X = parseInt(values.x);\r\n            CUR_DELTA_Y = parseInt(values.y);\r\n        };\r\n\r\n        const setScroll = (values) => {\r\n            SCROLL_X = values.x;\r\n            SCROLL_Y = values.y;\r\n        }\r\n\r\n        const setScale = (newScale) => {\r\n            let curPos, orgDelta, curScaleFac;\r\n            forEachRuler(function (rul) {\r\n                rul.context.clearRect(0, 0, rul.canvas.width, rul.canvas.height);\r\n                rul.context.beginPath();\r\n                rul.setScale(newScale);\r\n                rul.context.stroke();\r\n                CUR_SCALE = newScale;\r\n            });\r\n\r\n            guides.forEach((guide) => {\r\n                if (guide.dimension === HORIZONTAL) {\r\n                    curPos = parseInt(guide.line.guideLine.style.top);\r\n                    orgDelta = options.rulerHeight + 1;\r\n                    curScaleFac = (parseFloat(newScale) / guide.line.curScale());\r\n                    guide.line.guideLine.style.top = this.utils.pixelize(((curPos - orgDelta - CUR_DELTA_Y) / curScaleFac) + orgDelta + CUR_DELTA_Y);\r\n                    guide.line.curScale(newScale);\r\n                } else {\r\n                    curPos = parseInt(guide.line.guideLine.style.left);\r\n                    orgDelta = options.rulerHeight + 1;\r\n                    curScaleFac = (parseFloat(newScale) / guide.line.curScale());\r\n                    guide.line.guideLine.style.left = this.utils.pixelize(((curPos - orgDelta - CUR_DELTA_X) / curScaleFac) + orgDelta + CUR_DELTA_X);\r\n                    guide.line.curScale(newScale);\r\n                }\r\n            });\r\n        };\r\n\r\n\r\n        const clearGuides = () => {\r\n            guides.forEach(function (guide) {\r\n                guide.line.destroy();\r\n            });\r\n            guides = [];\r\n        };\r\n\r\n        const removeGuide = (id) => {\r\n            const last = guides.length - 1;\r\n            [guides[id], guides[last]] = [guides[last], guides[id]];\r\n            guides.pop();\r\n        };\r\n\r\n        const toggleGuideVisibility = (val) => {\r\n            const func = val ? 'show' : 'hide';\r\n            guides.forEach(function (guide) {\r\n                guide.line[func]();\r\n            });\r\n        };\r\n\r\n        const toggleRulerVisibility = (val) => {\r\n            const state = val ? 'block' : 'none';\r\n            theRulerDOM.style.display = state;\r\n            const trackers = options.container.querySelectorAll('.rul_tracker');\r\n            if (trackers.length > 0) {\r\n                trackers[0].style.display = state;\r\n                trackers[1].style.display = state;\r\n            }\r\n        };\r\n\r\n        const getGuides = () => {\r\n            return guides.map(function (guide) {\r\n                return {\r\n                    posX: Math.round((parseInt(guide.line.guideLine.style.left) - options.rulerHeight + SCROLL_X) * CUR_SCALE),\r\n                    posY: Math.round((parseInt(guide.line.guideLine.style.top) - options.rulerHeight + SCROLL_Y) * CUR_SCALE),\r\n                    dimension: guide.dimension\r\n                }\r\n            });\r\n        };\r\n\r\n        const setGuides = (_guides) => {\r\n            if (!_guides || !_guides.length) {\r\n                return\r\n            }\r\n            _guides.forEach(function (guide) {\r\n                constructGuide(guide.dimension, guide.posX, guide.posY, null, true)\r\n            })\r\n        };\r\n\r\n        const destroy = () => {\r\n            clearGuides();\r\n            forEachRuler(function (ruler) {\r\n                ruler.destroy();\r\n            });\r\n            corners.forEach(function (corner) {\r\n                corner.destroy();\r\n            });\r\n            options.container.removeEventListener('mouseup', mouseup);\r\n            theRulerDOM.parentNode.removeChild(theRulerDOM);\r\n        };\r\n\r\n        return {\r\n            VERTICAL,\r\n            HORIZONTAL,\r\n            getPos,\r\n            setPos,\r\n            setScroll,\r\n            setScale,\r\n            clearGuides,\r\n            removeGuide,\r\n            getGuides,\r\n            setGuides,\r\n            constructRulers,\r\n            toggleRulerVisibility,\r\n            toggleGuideVisibility,\r\n            destroy\r\n        }\r\n    }\r\n\r\n    rulerConstructor(_canvas, options, rulDimension) {\r\n\r\n        let canvas = _canvas,\r\n            context = canvas.getContext('2d'),\r\n            rulThickness = 0,\r\n            rulLength = 0,\r\n            rulScale = 1,\r\n            dimension = rulDimension || 2,\r\n            orgPos = 0,\r\n            tracker = document.createElement('div');\r\n\r\n        const getLength = () => {\r\n            return rulLength;\r\n        };\r\n\r\n        const getThickness = () => {\r\n            return rulThickness;\r\n        };\r\n\r\n        const getScale = () => {\r\n            return rulScale;\r\n        };\r\n\r\n        const setScale = (newScale) => {\r\n            rulScale = parseFloat(newScale);\r\n            drawPoints();\r\n            return rulScale;\r\n        };\r\n\r\n        const drawRuler = (_rulerLength, _rulerThickness, _rulerScale) => {\r\n            rulLength = canvas.width = _rulerLength * 4;\r\n            rulThickness = canvas.height = _rulerThickness;\r\n            rulScale = _rulerScale || rulScale;\r\n            context.strokeStyle = options.strokeStyle;\r\n            context.fillStyle = options.fillStyle;\r\n            context.font = options.fontSize + ' ' + options.fontFamily;\r\n            context.lineWidth = options.lineWidth;\r\n            context.beginPath();\r\n            drawPoints();\r\n            context.stroke();\r\n        };\r\n\r\n        const drawPoints = () => {\r\n            let pointLength = 0,\r\n                label = '',\r\n                delta = 0,\r\n                draw = false,\r\n                lineLengthMax = 0,\r\n                lineLengthMed = rulThickness / 2,\r\n                lineLengthMin = rulThickness / 2;\r\n\r\n            for (let pos = 0; pos <= rulLength; pos += 1) {\r\n                delta = ((rulLength / 2) - pos);\r\n                draw = false;\r\n                label = '';\r\n\r\n                if (delta % 50 === 0) {\r\n                    pointLength = lineLengthMax;\r\n                    label = Math.round(Math.abs(delta) * rulScale);\r\n                    draw = true;\r\n                } else if (delta % 25 === 0) {\r\n                    pointLength = lineLengthMed;\r\n                    draw = true;\r\n                } else if (delta % 5 === 0) {\r\n                    pointLength = lineLengthMin;\r\n                    draw = true;\r\n                }\r\n                if (draw) {\r\n                    context.moveTo(pos + 0.5, rulThickness + 0.5);\r\n                    context.lineTo(pos + 0.5, pointLength + 0.5);\r\n                    context.fillText(label, pos + 1.5, (rulThickness / 2) + 1);\r\n                }\r\n            }\r\n        };\r\n\r\n        const mousemove = (e) => {\r\n            let x = e.clientX, y = e.clientY;\r\n\r\n            if (e.target.tagName === 'IFRAME') {\r\n                const zoom = getScale() ** -1;\r\n                x = x * zoom + e.target.getBoundingClientRect().left;\r\n                y = y * zoom + e.target.getBoundingClientRect().top;\r\n            }\r\n\r\n            if (dimension === 2) {\r\n                tracker.style.left = this.utils.pixelize(x - options.container.getBoundingClientRect().left);\r\n            } else {\r\n                tracker.style.top = this.utils.pixelize(y - options.container.getBoundingClientRect().top);\r\n            }\r\n        };\r\n\r\n        const destroy = () => {\r\n            options.container.removeEventListener('mousemove', mousemove);\r\n            tracker.parentNode.removeChild(tracker);\r\n            this.clearListeners && this.clearListeners();\r\n        };\r\n\r\n        const initTracker = () => {\r\n            tracker = options.container.appendChild(tracker);\r\n            this.utils.addClasss(tracker, 'rul_tracker');\r\n            const height = this.utils.pixelize(options.rulerHeight);\r\n            if (dimension === 2) {\r\n                tracker.style.height = height;\r\n            } else {\r\n                tracker.style.width = height;\r\n            }\r\n            options.container.addEventListener('mousemove', mousemove);\r\n        };\r\n\r\n        if (options.enableMouseTracking) {\r\n            initTracker();\r\n        }\r\n\r\n        return {\r\n            getLength,\r\n            getThickness,\r\n            getScale,\r\n            setScale,\r\n            dimension,\r\n            orgPos,\r\n            canvas,\r\n            context,\r\n            drawRuler,\r\n            drawPoints,\r\n            destroy\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Created by maor.frankel on 5/23/15.\r\n     */\r\n    guideLine(line, _dragContainer, lineDimension, options, curDelta, movecb, event, scale) {\r\n\r\n        let self,\r\n            guideLine = line,\r\n            _curScale = scale || 1,\r\n            _assigned = false,\r\n            _curPosDelta = curDelta || 0,\r\n            dragContainer = _dragContainer,\r\n            dimension = lineDimension || 2,\r\n            moveCB = movecb || function () { };\r\n\r\n        const curPosDelta = (val) => {\r\n            if (typeof val === 'undefined') {\r\n                return _curPosDelta;\r\n            }\r\n            return (_curPosDelta = val);\r\n        };\r\n\r\n        const assigned = (val) => {\r\n            if (typeof val === 'undefined') {\r\n                return _assigned;\r\n            }\r\n            return (_assigned = val);\r\n        };\r\n\r\n        const curScale = (val) => {\r\n            if (typeof val === 'undefined') {\r\n                return _curScale;\r\n            }\r\n            return (_curScale = val);\r\n        };\r\n\r\n        const draggable = (() => {\r\n            return {\r\n                cv: () => {\r\n                    return this.options.canvas;\r\n                },\r\n                move: (xpos, ypos) => {\r\n                    guideLine.style.left = this.utils.pixelize(xpos);\r\n                    guideLine.style.top = this.utils.pixelize(ypos);\r\n                    updateToolTip(xpos, ypos);\r\n                    moveCB(self, xpos, ypos);\r\n                },\r\n                startMoving: (evt) => {\r\n                    draggable.cv().style.pointerEvents = 'none';\r\n                    this.utils.addClasss(guideLine, ['rul_line_dragged']);\r\n                    evt = evt || window.event;\r\n                    let posX = evt ? evt.clientX : 0,\r\n                        posY = evt ? evt.clientY : 0,\r\n                        divTop = parseInt(guideLine.style.top || 0),\r\n                        divLeft = parseInt(guideLine.style.left || 0),\r\n                        eWi = parseInt(guideLine.offsetWidth),\r\n                        eHe = parseInt(guideLine.offsetHeight),\r\n                        cWi = parseInt(dragContainer.offsetWidth),\r\n                        cHe = parseInt(dragContainer.offsetHeight),\r\n                        cursor = dimension === 2 ? 'ns-resize' : 'ew-resize';\r\n\r\n                    options.container.style.cursor = cursor;\r\n                    guideLine.style.cursor = cursor;\r\n                    let diffX = posX - divLeft,\r\n                        diffY = posY - divTop;\r\n                    document.onmousemove = function moving(evt) {\r\n                        evt = evt || window.event;\r\n                        let posX = evt.clientX,\r\n                            posY = evt.clientY,\r\n                            aX = posX - diffX,\r\n                            aY = posY - diffY;\r\n\r\n                        if (aX < 0) {\r\n                            aX = 0;\r\n                        }\r\n                        if (aY < 0) {\r\n                            aY = 0;\r\n                        }\r\n\r\n                        if (aX + eWi > cWi) {\r\n                            aX = cWi - eWi;\r\n                        }\r\n                        if (aY + eHe > cHe) {\r\n                            aY = cHe - eHe;\r\n                        }\r\n\r\n                        draggable.move(aX, aY);\r\n                    };\r\n                    showToolTip();\r\n                },\r\n                stopMoving: () => {\r\n                    draggable.cv().style.pointerEvents = this.canvasPointerEvents;\r\n                    options.container.style.cursor = null;\r\n                    guideLine.style.cursor = null;\r\n                    document.onmousemove = function () { };\r\n                    hideToolTip();\r\n                    this.utils.removeClasss(guideLine, ['rul_line_dragged']);\r\n                }\r\n            }\r\n        })();\r\n\r\n        const showToolTip = (e) => {\r\n            if (!options.enableToolTip) {\r\n                return;\r\n            }\r\n            this.utils.addClasss(guideLine, 'rul_tooltip');\r\n        };\r\n\r\n        const updateToolTip = (x, y) => {\r\n            if (y) {\r\n                guideLine.dataset.tip = Math.round((y - options.rulerHeight - 1 - _curPosDelta) * _curScale) + 'px';\r\n            } else {\r\n                guideLine.dataset.tip = Math.round((x - options.rulerHeight - 1 - _curPosDelta) * _curScale) + 'px';\r\n            }\r\n        };\r\n\r\n        const hideToolTip = (e) => {\r\n            this.utils.removeClasss(guideLine, 'rul_tooltip');\r\n        };\r\n\r\n        const destroy = () => {\r\n            draggable.stopMoving();\r\n            moveCB = null;\r\n            guideLine.removeEventListener('mousedown', mousedown);\r\n            guideLine.removeEventListener('mouseup', mouseup);\r\n            guideLine.removeEventListener('dblclick', dblclick);\r\n            guideLine.parentNode && guideLine.parentNode.removeChild(guideLine);\r\n        };\r\n\r\n        const hide = () => {\r\n            guideLine.style.display = 'none';\r\n        };\r\n\r\n        const show = () => {\r\n            guideLine.style.display = 'block';\r\n        };\r\n\r\n        const mousedown = (e) => {\r\n            e.stopPropagation();\r\n            draggable.startMoving();\r\n        };\r\n\r\n        const mouseup = (e) => {\r\n            draggable.stopMoving();\r\n        };\r\n\r\n        const dblclick = (e) => {\r\n            e.stopPropagation();\r\n            destroy();\r\n            this.api.removeGuide(guideLine.dataset.id);\r\n        };\r\n\r\n        guideLine.addEventListener('mousedown', mousedown);\r\n\r\n        guideLine.addEventListener('mouseup', mouseup);\r\n\r\n        guideLine.addEventListener('dblclick', dblclick);\r\n        if (event) draggable.startMoving(event);\r\n\r\n        self = {\r\n            setAsDraggable: draggable,\r\n            startDrag: draggable.startMoving,\r\n            stopDrag: draggable.stopMoving,\r\n            destroy: destroy,\r\n            curScale: curScale,\r\n            assigned: assigned,\r\n            curPosDelta: curPosDelta,\r\n            guideLine: guideLine,\r\n            dimension: dimension,\r\n            hide: hide,\r\n            show: show\r\n        };\r\n        return self;\r\n    }\r\n}\r\n\r\nexport const utils = {\r\n    extend() {\r\n        for (let i = 1; i < arguments.length; i++)\r\n            for (let key in arguments[i])\r\n                if (arguments[i].hasOwnProperty(key))\r\n                    arguments[0][key] = arguments[i][key];\r\n        return arguments[0];\r\n    },\r\n    pixelize(val) {\r\n        return val + 'px';\r\n    },\r\n    prependChild(container, element) {\r\n        return container.insertBefore(element, container.firstChild);\r\n    },\r\n    addClasss(element, classNames) {\r\n        if (!(classNames instanceof Array)) {\r\n            classNames = [classNames];\r\n        }\r\n\r\n        classNames.forEach(function (name) {\r\n            element.className += ' ' + name;\r\n        });\r\n\r\n        return element;\r\n    },\r\n    removeClasss(element, classNames) {\r\n        let curCalsss = element.className;\r\n        if (!(classNames instanceof Array)) {\r\n            classNames = [classNames];\r\n        }\r\n\r\n        classNames.forEach(function (name) {\r\n            curCalsss = curCalsss.replace(name, '');\r\n        });\r\n        element.className = curCalsss;\r\n        return element;\r\n    }\r\n}","import Ruler from './ruler';\r\n\r\nexport default (editor, opts = {}) => {\r\n    const options = {\r\n        ...{\r\n            // default options\r\n            dragMode: 'translate',\r\n            rulerHeight: 15,\r\n            canvasZoom: 94,\r\n            rulerOpts: {},\r\n        },\r\n        ...opts\r\n    };\r\n\r\n    const cm = editor.Commands;\r\n    const rulH = options.rulerHeight;\r\n    const defaultDragMode = editor.getConfig('dragMode');\r\n    let zoom = options.canvasZoom\r\n    let scale = 100 / zoom;\r\n    let rulers;\r\n\r\n    cm.add('ruler-visibility', {\r\n        run(editor) {\r\n            !rulers && (rulers = new Ruler({\r\n                container: editor.Canvas.getCanvasView().el,\r\n                canvas: editor.Canvas.getFrameEl(),\r\n                rulerHeight: rulH,\r\n                strokeStyle: 'white',\r\n                fillStyle: 'white',\r\n                cornerIcon: 'fa fa-trash',\r\n                ...options.rulerOpts\r\n            })) && editor.on('canvasScroll frame:scroll change:canvasOffset', () => {\r\n                setOffset();\r\n            });\r\n            editor.Rulers = rulers;\r\n            rulers.api.toggleRulerVisibility(true);\r\n            editor.Canvas.setZoom(zoom);\r\n            editor.setDragMode(options.dragMode);\r\n            setOffset();\r\n            rulers.api.setScale(scale);\r\n        },\r\n        stop(editor) {\r\n            rulers && rulers.api.toggleRulerVisibility(false);\r\n            editor.Canvas.setZoom(100);\r\n            editor.setDragMode(defaultDragMode);\r\n        }\r\n    });\r\n\r\n    const setOffset = () => {\r\n        const { top, left } = editor.Canvas.getOffset();\r\n        const scrollX = editor.Canvas.getBody().scrollLeft;\r\n        const scrollY = editor.Canvas.getBody().scrollTop;\r\n        rulers.api.setPos({\r\n            x: left - rulH - scrollX / scale,\r\n            y: top - rulH - scrollY / scale\r\n        });\r\n        rulers.api.setScroll({\r\n            x: scrollX,\r\n            y: scrollY\r\n        });\r\n    }\r\n\r\n    cm.add('guides-visibility', {\r\n        run() {\r\n            rulers && rulers.api.toggleGuideVisibility(true);\r\n        },\r\n        stop() {\r\n            rulers && rulers.api.toggleGuideVisibility(false);\r\n        }\r\n    });\r\n\r\n    cm.add('get-rulers', () => {\r\n        return rulers;\r\n    });\r\n\r\n    cm.add('get-rulers-constructor', () => {\r\n        return Ruler;\r\n    });\r\n\r\n    cm.add('clear-guides', () => {\r\n        rulers && rulers.api.clearGuides();\r\n    });\r\n\r\n    cm.add('get-guides', () => {\r\n        if (rulers) return rulers.api.getGuides();\r\n        else return 0;\r\n    });\r\n\r\n    cm.add('set-guides', (editor, sender, options = {}) => {\r\n        rulers && options.guides && rulers.api.setGuides(options.guides);\r\n    });\r\n\r\n    cm.add('set-zoom', (editor, sender, options = {}) => {\r\n        zoom = options.zoom;\r\n        scale = 100 / zoom;\r\n        editor.Canvas.setZoom(zoom);\r\n        setOffset();\r\n        rulers && rulers.api.setScale(scale);\r\n    });\r\n\r\n    cm.add('destroy-ruler', () => {\r\n        rulers && rulers.api.destroy();\r\n    });\r\n};"],"sourceRoot":""}